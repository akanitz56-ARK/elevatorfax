<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElevatorFax - Elevator History Reports</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #0a1628;
            --navy-light: #1a2942;
            --gold: #d4af37;
            --gold-light: #f4d77f;
            --cream: #faf7f2;
            --gray: #8892a6;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: var(--navy);
            color: var(--cream);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(45deg, transparent 48%, rgba(212, 175, 55, 0.03) 49%, rgba(212, 175, 55, 0.03) 51%, transparent 52%),
                linear-gradient(-45deg, transparent 48%, rgba(212, 175, 55, 0.03) 49%, rgba(212, 175, 55, 0.03) 51%, transparent 52%);
            background-size: 60px 60px;
            opacity: 0.5;
            z-index: 0;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 700px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Header/Logo */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            font-family: 'DM Serif Display', serif;
            font-size: 48px;
            color: var(--gold);
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .tagline {
            font-size: 14px;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 300;
        }

        .demo-btn {
            margin-top: 20px;
            padding: 12px 30px;
            background: rgba(212, 175, 55, 0.15);
            border: 1px solid var(--gold);
            color: var(--gold);
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .demo-btn:hover {
            background: rgba(212, 175, 55, 0.25);
            transform: translateY(-2px);
        }

        /* Progress bar */
        .progress-container {
            margin-bottom: 50px;
            animation: fadeIn 1s ease-out 0.2s both;
        }

        .progress-bar {
            height: 3px;
            background: var(--navy-light);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--gold-light));
            width: 0%;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        .progress-text {
            margin-top: 15px;
            text-align: center;
            font-size: 13px;
            color: var(--gray);
            font-weight: 300;
        }

        /* Screen container */
        .screen {
            display: none;
            animation: fadeInUp 0.6s ease-out;
        }

        .screen.active {
            display: block;
        }

        .screen-title {
            font-family: 'DM Serif Display', serif;
            font-size: 32px;
            color: var(--gold);
            margin-bottom: 15px;
            font-weight: 400;
        }

        .screen-subtitle {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 40px;
            line-height: 1.6;
            font-weight: 300;
        }

        /* Form elements */
        .form-group {
            margin-bottom: 35px;
        }

        label {
            display: block;
            margin-bottom: 12px;
            font-size: 13px;
            color: var(--gold-light);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 18px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            color: var(--cream);
            font-size: 16px;
            font-family: 'IBM Plex Sans', sans-serif;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--gold);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        input::placeholder {
            color: var(--gray);
            opacity: 0.6;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23d4af37' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 20px center;
            padding-right: 45px;
        }

        select option {
            background: var(--navy);
            color: var(--cream);
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 50px;
        }

        .btn {
            flex: 1;
            padding: 18px 35px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: var(--navy);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--gold);
            border: 1px solid var(--gold);
        }

        .btn-secondary:hover {
            background: rgba(212, 175, 55, 0.1);
        }

        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Report styles */
        .report-container {
            background: var(--cream);
            color: var(--navy);
            border-radius: 12px;
            padding: 50px;
            margin-top: 30px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
        }

        .report-header {
            text-align: center;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--gold);
            margin-bottom: 40px;
        }

        .report-logo {
            font-family: 'DM Serif Display', serif;
            font-size: 36px;
            color: var(--navy);
            margin-bottom: 10px;
        }

        .report-title {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--gray);
            margin-bottom: 15px;
        }

        .report-id {
            font-size: 12px;
            color: var(--gray);
            font-weight: 300;
        }

        .score-card {
            background: linear-gradient(135deg, var(--navy), var(--navy-light));
            color: var(--cream);
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 15px 40px rgba(10, 22, 40, 0.3);
        }

        .score-number {
            font-family: 'DM Serif Display', serif;
            font-size: 72px;
            color: var(--gold);
            margin-bottom: 10px;
            line-height: 1;
        }

        .score-label {
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--gray);
            font-weight: 500;
        }

        .score-description {
            margin-top: 15px;
            font-size: 13px;
            color: var(--gray);
            font-weight: 300;
        }

        .report-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-family: 'DM Serif Display', serif;
            font-size: 24px;
            color: var(--navy);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(10, 22, 40, 0.1);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .info-card {
            background: rgba(10, 22, 40, 0.03);
            padding: 20px;
            border-radius: 8px;
            border-left: 3px solid var(--gold);
        }

        .info-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--gray);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .info-value {
            font-size: 18px;
            font-weight: 600;
            color: var(--cream);
        }

        /* Report screen needs navy text since it has light background */
        .report-container .info-value {
            color: var(--navy);
        }

        .badge-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .cert-card {
            background: rgba(10, 22, 40, 0.03);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--gold);
        }

        .cert-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .cert-title {
            font-weight: 600;
            font-size: 16px;
            color: var(--navy);
        }

        .cert-date {
            font-size: 13px;
            color: var(--gray);
        }

        .cert-status {
            margin-top: 8px;
            font-size: 14px;
            line-height: 1.6;
            color: var(--navy);
        }

        .cert-alert {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
        }

        .cert-alert-title {
            font-weight: 600;
            color: #856404;
            margin-bottom: 5px;
        }

        .cert-alert-text {
            font-size: 14px;
            color: #856404;
            line-height: 1.6;
        }

        /* Simulated data overlay */
        .simulated-section {
            position: relative;
        }

        .simulated-section::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.6);
            pointer-events: none;
            border-radius: 8px;
        }

        .simulated-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(128, 128, 128, 0.9);
            color: white;
            padding: 5px 12px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            z-index: 1;
        }

        .history-timeline {
            position: relative;
            padding-left: 30px;
        }

        .history-timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gold);
        }

        .history-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 20px;
        }

        .history-item::before {
            content: '';
            position: absolute;
            left: -36px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--gold);
            border: 3px solid var(--cream);
        }

        .history-date {
            font-weight: 600;
            color: var(--navy);
            margin-bottom: 5px;
            font-size: 14px;
        }

        .history-event {
            color: var(--gray);
            font-size: 14px;
            line-height: 1.6;
        }

        .inspection-grid {
            display: grid;
            gap: 12px;
        }

        .inspection-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(10, 22, 40, 0.03);
            border-radius: 6px;
        }

        .inspection-name {
            font-weight: 500;
            color: var(--navy);
            font-size: 14px;
        }

        .footer-note {
            margin-top: 50px;
            padding: 30px;
            background: rgba(10, 22, 40, 0.03);
            border-radius: 8px;
            font-size: 12px;
            color: var(--gray);
            line-height: 1.8;
            text-align: center;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 40px;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Loading spinner */
        .loading-screen {
            display: none;
            text-align: center;
            padding: 60px 0;
        }

        .loading-screen.active {
            display: block;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(212, 175, 55, 0.2);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 13px;
            color: var(--gray);
            font-weight: 300;
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px 15px;
            }

            .logo {
                font-size: 36px;
            }

            .screen-title {
                font-size: 26px;
            }

            .report-container {
                padding: 30px 20px;
            }

            .score-number {
                font-size: 56px;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }
        }

        @media print {
            body {
                background: white;
            }

            body::before {
                display: none;
            }

            .header, .progress-container, .screen, .loading-screen, .action-buttons {
                display: none !important;
            }

            .report-container {
                box-shadow: none;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ElevatorFax</div>
            <div class="tagline">Verified Elevator History Reports</div>
            <button class="demo-btn" onclick="loadDemo()">Try Demo</button>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Step 1 of 6</div>
        </div>

        <!-- Screen 1: Elevator ID -->
        <div class="screen active" id="screen1">
            <div class="screen-title">Let's start with the basics</div>
            <div class="screen-subtitle">Every elevator has a unique identification number, typically found on the certificate inside the cab.</div>
            
            <div class="form-group">
                <label>Elevator ID Number</label>
                <input type="text" id="elevatorId" placeholder="e.g., ELV-2024-001234" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="nextScreen(2)">Continue</button>
            </div>
        </div>

        <!-- Screen 2: Building Name -->
        <div class="screen" id="screen2">
            <div class="screen-title">Where is this elevator located?</div>
            <div class="screen-subtitle">Tell us about the building this elevator serves.</div>
            
            <div class="form-group">
                <label>Building Name</label>
                <input type="text" id="buildingName" placeholder="e.g., One World Trade Center" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(1)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(3)">Continue</button>
            </div>
        </div>

        <!-- Screen 3: Address -->
        <div class="screen" id="screen3">
            <div class="screen-title">Building address</div>
            <div class="screen-subtitle">The complete street address helps us locate inspection records.</div>
            
            <div class="form-group">
                <label>Street Address</label>
                <input type="text" id="address" placeholder="e.g., 285 Fulton St, New York, NY 10007" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(2)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(4)">Continue</button>
            </div>
        </div>

        <!-- Screen 4: Manufacturer -->
        <div class="screen" id="screen4">
            <div class="screen-title">Who manufactured this elevator?</div>
            <div class="screen-subtitle">The manufacturer's name is usually displayed on the control panel or door frame.</div>
            
            <div class="form-group">
                <label>Manufacturer</label>
                <select id="manufacturer">
                    <option value="">Select manufacturer...</option>
                    <option value="Otis">Otis Elevator Company</option>
                    <option value="Schindler">Schindler Group</option>
                    <option value="KONE">KONE Corporation</option>
                    <option value="ThyssenKrupp">ThyssenKrupp Elevator</option>
                    <option value="Mitsubishi">Mitsubishi Electric</option>
                    <option value="Fujitec">Fujitec Co., Ltd.</option>
                    <option value="Hitachi">Hitachi Building Systems</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(3)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(5)">Continue</button>
            </div>
        </div>

        <!-- Screen 5: Year & Capacity -->
        <div class="screen" id="screen5">
            <div class="screen-title">Installation details</div>
            <div class="screen-subtitle">When was it installed, and what's its rated capacity?</div>
            
            <div class="form-group">
                <label>Year Installed</label>
                <input type="number" id="yearInstalled" placeholder="e.g., 2015" min="1900" max="2024" autocomplete="off">
            </div>

            <div class="form-group">
                <label>Weight Capacity (pounds)</label>
                <input type="number" id="capacity" placeholder="e.g., 3500" min="500" step="100" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(4)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(6)">Continue</button>
            </div>
        </div>

        <!-- Screen 6: Review -->
        <div class="screen" id="screen6">
            <div class="screen-title">Review your information</div>
            <div class="screen-subtitle">Please verify all details before generating your report.</div>
            
            <div class="info-grid">
                <div class="info-card">
                    <div class="info-label">Elevator ID</div>
                    <div class="info-value" id="reviewId">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Building</div>
                    <div class="info-value" id="reviewBuilding">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Address</div>
                    <div class="info-value" id="reviewAddress">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Manufacturer</div>
                    <div class="info-value" id="reviewManufacturer">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Year Installed</div>
                    <div class="info-value" id="reviewYear">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Capacity</div>
                    <div class="info-value" id="reviewCapacity">-</div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(5)">Back</button>
                <button class="btn btn-primary" onclick="generateReport()">Generate Report</button>
            </div>
        </div>

        <!-- Loading Screen -->
        <div class="loading-screen" id="loadingScreen">
            <div class="spinner"></div>
            <div class="loading-text">Generating your ElevatorFax report...</div>
            <div class="loading-subtext">Analyzing inspection records and maintenance history</div>
        </div>

        <!-- Report Screen -->
        <div class="screen" id="reportScreen">
            <div class="report-container">
                <div class="report-header">
                    <div class="report-logo">üè¢ ElevatorFax</div>
                    <div class="report-title">Official Vehicle History Report</div>
                    <div class="report-id">Report ID: <span id="reportId"></span></div>
                    <div class="report-id">Generated: <span id="reportDate"></span></div>
                </div>

                <div class="score-card simulated-section">
                    <span class="simulated-badge">Sample Data</span>
                    <div class="score-number" id="safetyScore">-</div>
                    <div class="score-label">ElevatorFax Safety Score</div>
                    <div class="score-description">Based on maintenance history, inspection records, and equipment condition</div>
                </div>

                <div class="report-section">
                    <div class="section-title">Elevator Overview</div>
                    <div class="info-grid">
                        <div class="info-card">
                            <div class="info-label">Elevator ID</div>
                            <div class="info-value" id="finalId">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Building</div>
                            <div class="info-value" id="finalBuilding">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Manufacturer</div>
                            <div class="info-value" id="finalManufacturer">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Year Installed</div>
                            <div class="info-value" id="finalYear">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Capacity</div>
                            <div class="info-value" id="finalCapacity">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Age</div>
                            <div class="info-value" id="finalAge">-</div>
                        </div>
                    </div>
                    <div class="info-card" style="margin-top: 15px;">
                        <div class="info-label">Address</div>
                        <div class="info-value" id="finalAddress">-</div>
                    </div>
                </div>

                <div class="report-section">
                    <div class="section-title">Safety Highlights</div>
                    <div class="badge-container" id="safetyBadges"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Florida Certification Status</div>
                    <div id="floridaCertification"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Financial Overview</div>
                    <div id="financialOverview"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Upcoming Requirements & Deadlines</div>
                    <div id="upcomingDeadlines"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Modernization Recommendations</div>
                    <div id="modernizationRecs"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Latest Inspection Results</div>
                    <div class="inspection-grid" id="inspectionGrid"></div>
                </div>

                <div class="report-section simulated-section">
                    <span class="simulated-badge">Sample Data</span>
                    <div class="section-title">Maintenance & Service History</div>
                    <div class="history-timeline" id="maintenanceTimeline"></div>
                </div>

                <div class="report-section simulated-section">
                    <span class="simulated-badge">Sample Data</span>
                    <div class="section-title">Major Events & Upgrades</div>
                    <div class="history-timeline" id="majorEvents"></div>
                </div>

                <div class="report-section simulated-section">
                    <span class="simulated-badge">Sample Data</span>
                    <div class="section-title">Component Status</div>
                    <div class="info-grid" id="componentGrid"></div>
                </div>

                <div class="footer-note">
                    This ElevatorFax report is generated based on available records and inspection data. 
                    ElevatorFax compiles information from maintenance logs, safety inspections, and regulatory filings. 
                    This report should be used as part of a comprehensive evaluation process.
                    <br><br>
                    ¬© 2024 ElevatorFax. All rights reserved.
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="window.print()">Print Report</button>
                    <button class="btn btn-primary" onclick="location.reload()">Generate New Report</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 1;
        const totalScreens = 6;
        const formData = {};

        // Load demo data - REAL Florida Elevator, ~10 years old, 6 landings
        function loadDemo() {
            // Fill in with REAL Florida elevator data
            // License #104485 - Olympus Harbour Island Parking Garage, Tampa
            document.getElementById('elevatorId').value = '104485';
            document.getElementById('buildingName').value = 'Olympus Harbour Island Parking Garage';
            document.getElementById('address').value = '301 Harbour Place Drive, Tampa, FL 33602';
            document.getElementById('manufacturer').value = 'ThyssenKrupp';
            document.getElementById('yearInstalled').value = '2016';
            document.getElementById('capacity').value = '3500';

            // Animate through all screens at a slower pace
            setTimeout(() => {
                document.getElementById('screen1').classList.remove('active');
                currentScreen = 2;
                document.getElementById('screen2').classList.add('active');
                updateProgress();
            }, 500);
            
            setTimeout(() => {
                document.getElementById('screen2').classList.remove('active');
                currentScreen = 3;
                document.getElementById('screen3').classList.add('active');
                updateProgress();
            }, 1000);
            
            setTimeout(() => {
                document.getElementById('screen3').classList.remove('active');
                currentScreen = 4;
                document.getElementById('screen4').classList.add('active');
                updateProgress();
            }, 1500);
            
            setTimeout(() => {
                document.getElementById('screen4').classList.remove('active');
                currentScreen = 5;
                document.getElementById('screen5').classList.add('active');
                updateProgress();
            }, 2000);
            
            setTimeout(() => {
                document.getElementById('screen5').classList.remove('active');
                currentScreen = 6;
                document.getElementById('screen6').classList.add('active');
                updateProgress();
                
                // Use requestAnimationFrame to ensure DOM is painted
                requestAnimationFrame(() => {
                    requestAnimationFrame(() => {
                        document.getElementById('reviewId').textContent = '104485';
                        document.getElementById('reviewBuilding').textContent = 'Olympus Harbour Island Parking Garage';
                        document.getElementById('reviewAddress').textContent = '301 Harbour Place Drive, Tampa, FL 33602';
                        document.getElementById('reviewManufacturer').textContent = 'ThyssenKrupp';
                        document.getElementById('reviewYear').textContent = '2016';
                        document.getElementById('reviewCapacity').textContent = '3500 lbs';
                    });
                });
            }, 2500);
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Update progress bar
        function updateProgress() {
            const progress = (currentScreen / totalScreens) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Step ${currentScreen} of ${totalScreens}`;
        }

        // Validate current screen
        function validateScreen(screenNum) {
            let input;
            switch(screenNum) {
                case 1:
                    input = document.getElementById('elevatorId');
                    break;
                case 2:
                    input = document.getElementById('buildingName');
                    break;
                case 3:
                    input = document.getElementById('address');
                    break;
                case 4:
                    input = document.getElementById('manufacturer');
                    break;
                case 5:
                    const year = document.getElementById('yearInstalled');
                    const capacity = document.getElementById('capacity');
                    if (!year.value || !capacity.value) {
                        alert('Please fill in both fields');
                        return false;
                    }
                    return true;
            }
            
            if (input && !input.value.trim()) {
                alert('Please fill in this field before continuing');
                input.focus();
                return false;
            }
            return true;
        }

        // Navigate to next screen
        function nextScreen(screenNum) {
            if (!validateScreen(currentScreen)) {
                return;
            }

            // Hide current screen
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            
            // Update review if going to screen 6
            if (screenNum === 6) {
                updateReview();
            }
            
            // Show next screen
            currentScreen = screenNum;
            document.getElementById(`screen${screenNum}`).classList.add('active');
            updateProgress();
            
            // Scroll to top smoothly
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Navigate to previous screen
        function prevScreen(screenNum) {
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            currentScreen = screenNum;
            document.getElementById(`screen${screenNum}`).classList.add('active');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Update review screen
        function updateReview() {
            document.getElementById('reviewId').textContent = document.getElementById('elevatorId').value;
            document.getElementById('reviewBuilding').textContent = document.getElementById('buildingName').value;
            document.getElementById('reviewAddress').textContent = document.getElementById('address').value;
            document.getElementById('reviewManufacturer').textContent = document.getElementById('manufacturer').value;
            document.getElementById('reviewYear').textContent = document.getElementById('yearInstalled').value;
            document.getElementById('reviewCapacity').textContent = document.getElementById('capacity').value + ' lbs';
        }

        // Generate report
        function generateReport() {
            // Collect all data
            formData.elevatorId = document.getElementById('elevatorId').value;
            formData.buildingName = document.getElementById('buildingName').value;
            formData.address = document.getElementById('address').value;
            formData.manufacturer = document.getElementById('manufacturer').value;
            formData.yearInstalled = parseInt(document.getElementById('yearInstalled').value);
            formData.capacity = document.getElementById('capacity').value;

            // Hide review screen
            document.getElementById('screen6').classList.remove('active');
            
            // Show loading screen
            document.getElementById('loadingScreen').classList.add('active');
            document.getElementById('progressFill').style.width = '100%';
            document.getElementById('progressText').textContent = 'Generating report...';

            // Simulate loading time
            setTimeout(() => {
                populateReport();
                document.getElementById('loadingScreen').classList.remove('active');
                document.getElementById('reportScreen').classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 2500);
        }

        // Populate report with data
        function populateReport() {
            const currentYear = new Date().getFullYear();
            const age = currentYear - formData.yearInstalled;
            
            // Generate report metadata
            const reportId = 'EFX-' + Date.now();
            const reportDate = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            // Calculate safety score
            let score = 100;
            score -= Math.min(age * 1.5, 30);
            score -= Math.floor(Math.random() * 10);
            score = Math.max(65, Math.min(100, Math.round(score)));

            // Set basic info
            document.getElementById('reportId').textContent = reportId;
            document.getElementById('reportDate').textContent = reportDate;
            document.getElementById('safetyScore').textContent = score;
            
            document.getElementById('finalId').textContent = formData.elevatorId;
            document.getElementById('finalBuilding').textContent = formData.buildingName;
            document.getElementById('finalManufacturer').textContent = formData.manufacturer;
            document.getElementById('finalYear').textContent = formData.yearInstalled;
            document.getElementById('finalCapacity').textContent = formData.capacity + ' lbs';
            document.getElementById('finalAge').textContent = age + ' years';
            document.getElementById('finalAddress').textContent = formData.address;

            // Generate safety badges
            let badges = '';
            if (score >= 85) {
                badges += '<span class="badge badge-success">‚úì Excellent Safety Record</span>';
            } else if (score >= 75) {
                badges += '<span class="badge badge-success">‚úì Good Safety Record</span>';
            } else {
                badges += '<span class="badge badge-warning">‚ö† Needs Attention</span>';
            }
            badges += '<span class="badge badge-success">‚úì Current Inspection Certificate</span>';
            badges += '<span class="badge badge-success">‚úì Regular Maintenance</span>';
            
            if (age < 10) {
                badges += '<span class="badge badge-success">‚úì Modern Equipment</span>';
            } else if (age > 25) {
                badges += '<span class="badge badge-warning">‚ö† Aging Equipment</span>';
            }
            badges += '<span class="badge badge-success">‚úì Code Compliant</span>';
            document.getElementById('safetyBadges').innerHTML = badges;

            // Generate inspection results - REAL DATA
            // Based on DBPR Annual Inspection May 5, 2025 - Result: PASSED
            const inspections = [
                'Emergency Communication System',
                'Door Safety Sensors',
                'Emergency Brake System',
                'Cable Condition',
                'Governor System',
                'Lighting & Ventilation',
                'Fire Service Operation',
                'Load Testing'
            ];

            let inspectionHTML = `<div style="background: #d4edda; padding: 15px; border-radius: 6px; margin-bottom: 20px; border-left: 4px solid #28a745;">
                <strong style="color: #155724;">‚úì Official DBPR Annual Inspection - May 5, 2025</strong><br>
                <span style="color: #155724; font-size: 14px;">Inspector: FL DBPR Certified | Result: PASSED | Violations: None</span>
            </div>`;
            
            inspections.forEach(item => {
                inspectionHTML += `
                    <div class="inspection-row">
                        <span class="inspection-name">${item}</span>
                        <span class="badge badge-success">PASS</span>
                    </div>
                `;
            });
            document.getElementById('inspectionGrid').innerHTML = inspectionHTML;

            // Generate maintenance history
            const maintenanceRecords = [
                { date: 'December 15, 2024', event: 'Quarterly safety inspection completed. All systems operational.' },
                { date: 'November 3, 2024', event: 'Routine maintenance performed. Door sensors calibrated.' },
                { date: 'September 22, 2024', event: 'Annual state inspection passed with no violations.' },
                { date: 'August 10, 2024', event: 'Emergency phone system upgraded to meet new requirements.' },
                { date: 'June 5, 2024', event: 'Cable inspection and lubrication service completed.' }
            ];

            let maintenanceHTML = '';
            maintenanceRecords.forEach(record => {
                maintenanceHTML += `
                    <div class="history-item">
                        <div class="history-date">${record.date}</div>
                        <div class="history-event">${record.event}</div>
                    </div>
                `;
            });
            document.getElementById('maintenanceTimeline').innerHTML = maintenanceHTML;

            // Generate major events
            let eventsHTML = `
                <div class="history-item">
                    <div class="history-date">${formData.yearInstalled}</div>
                    <div class="history-event">Elevator installed and commissioned. Initial inspection passed.</div>
                </div>
            `;

            if (age > 15) {
                const modernYear = currentYear - Math.floor(Math.random() * 5) - 3;
                eventsHTML += `
                    <div class="history-item">
                        <div class="history-date">${modernYear}</div>
                        <div class="history-event">Major modernization: Control system upgraded to microprocessor-based controller. Door operators replaced.</div>
                    </div>
                `;
            }

            eventsHTML += `
                <div class="history-item">
                    <div class="history-date">No Records Found</div>
                    <div class="history-event" style="color: #155724; font-weight: 600;">‚úì No accident or injury reports on file</div>
                </div>
            `;
            document.getElementById('majorEvents').innerHTML = eventsHTML;

            // Generate component status
            const components = [
                { name: 'Traction Machine/Motor', condition: age < 15 ? 'Excellent' : 'Good' },
                { name: 'Control System', condition: age < 10 ? 'Excellent' : 'Good' },
                { name: 'Door System', condition: 'Good' },
                { name: 'Safety Brake', condition: 'Excellent' },
                { name: 'Cables & Ropes', condition: 'Good' },
                { name: 'Guide Rails', condition: 'Excellent' },
                { name: 'Car Interior', condition: age < 5 ? 'Excellent' : 'Good' },
                { name: 'Emergency Systems', condition: 'Excellent' }
            ];

            let componentHTML = '';
            components.forEach(comp => {
                componentHTML += `
                    <div class="info-card">
                        <div class="info-label">${comp.name}</div>
                        <div class="info-value">${comp.condition}</div>
                    </div>
                `;
            });
            document.getElementById('componentGrid').innerHTML = componentHTML;

            // Generate Florida Certification Status
            generateFloridaCertification(age, formData.yearInstalled);
            
            // Generate new sections
            generateFinancialOverview(age, formData.capacity, formData.yearInstalled);
            generateUpcomingDeadlines(age, formData.yearInstalled);
            generateModernizationRecommendations(age, formData.yearInstalled, formData.manufacturer);
        }

        // Generate Florida Certification Status
        function generateFloridaCertification(age, yearInstalled) {
            const currentYear = new Date().getFullYear();
            const currentMonth = new Date().getMonth() + 1;
            
            // REAL INSPECTION DATA for License #104485 (Tampa parking garage)
            const lastInspectionDate = "May 5, 2025";
            const inspectorName = "FL DBPR Certified Inspector";
            const inspectionResult = "PASSED";
            const violations = "None";
            
            // Calculate next annual due date
            const nextAnnualDue = "May 2026";
            
            // Calculate 5-year load test
            const installYear = parseInt(yearInstalled);
            const yearsSinceLastLoadTest = (currentYear - installYear) % 5;
            const lastLoadTestYear = currentYear - yearsSinceLastLoadTest;
            const nextLoadTestYear = lastLoadTestYear + 5;
            const nextLoadTestDue = `December ${nextLoadTestYear}`;
            
            let html = '';
            
            // Annual Inspection Card - REAL DATA
            html += `
                <div class="cert-card">
                    <div class="cert-header">
                        <div class="cert-title">Annual State Inspection</div>
                        <span class="badge badge-success">CURRENT</span>
                    </div>
                    <div class="cert-status">
                        <strong>Last Inspection:</strong> ${lastInspectionDate}<br>
                        <strong>Inspector:</strong> ${inspectorName}<br>
                        <strong>Result:</strong> ${inspectionResult}<br>
                        <strong>Violations:</strong> ${violations}<br>
                        <strong>Next Due:</strong> ${nextAnnualDue}
                    </div>
                </div>
            `;
            
            // 5-Year Load Test Card - CALCULATED/ESTIMATED
            const loadTestStatus = yearsSinceLastLoadTest < 4 ? 'CURRENT' : 'DUE SOON';
            const loadTestBadge = yearsSinceLastLoadTest < 4 ? 'badge-success' : 'badge-warning';
            
            html += `
                <div class="cert-card" style="position: relative;">
                    <span class="simulated-badge" style="background: rgba(128, 128, 128, 0.9); color: white; padding: 5px 12px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; position: absolute; top: 10px; right: 10px; z-index: 1;">Estimated</span>
                    <div class="cert-header">
                        <div class="cert-title">5-Year Load Testing</div>
                        <span class="badge ${loadTestBadge}">${loadTestStatus}</span>
                    </div>
                    <div class="cert-status">
                        <strong>Last Test:</strong> ${lastLoadTestYear}<br>
                        <strong>Next Due:</strong> ${nextLoadTestDue}<br>
                        <strong>Load Tested:</strong> ${formData.capacity} lbs (125% of rated capacity)<br>
                        <strong>Result:</strong> Passed
                    </div>
                </div>
            `;
            
            // Certificate of Operation Card - CALCULATED
            html += `
                <div class="cert-card" style="position: relative;">
                    <span class="simulated-badge" style="background: rgba(128, 128, 128, 0.9); color: white; padding: 5px 12px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; position: absolute; top: 10px; right: 10px; z-index: 1;">Estimated</span>
                    <div class="cert-header">
                        <div class="cert-title">Certificate of Operation</div>
                        <span class="badge badge-success">POSTED</span>
                    </div>
                    <div class="cert-status">
                        <strong>License #:</strong> ${formData.elevatorId}<br>
                        <strong>Issued By:</strong> Florida Department of Business & Professional Regulation<br>
                        <strong>Valid Through:</strong> ${nextAnnualDue}<br>
                        <strong>Status:</strong> Posted in elevator cab as required by FL Statute 399
                    </div>
                </div>
            `;
            
            // Emergency Communication System - TYPICAL/ASSUMED
            html += `
                <div class="cert-card" style="position: relative;">
                    <span class="simulated-badge" style="background: rgba(128, 128, 128, 0.9); color: white; padding: 5px 12px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; position: absolute; top: 10px; right: 10px; z-index: 1;">Typical</span>
                    <div class="cert-header">
                        <div class="cert-title">Emergency Communication System</div>
                        <span class="badge badge-success">COMPLIANT</span>
                    </div>
                    <div class="cert-status">
                        <strong>System Type:</strong> Two-way voice communication<br>
                        <strong>Connection:</strong> 24/7 monitoring service<br>
                        <strong>Last Test:</strong> ${lastInspectionDate}<br>
                        <strong>Compliance:</strong> Meets ASME A17.1 and FL requirements
                    </div>
                </div>
            `;
            
            // Add alert if load test is due soon
            if (yearsSinceLastLoadTest >= 4) {
                html = `
                    <div class="cert-alert">
                        <div class="cert-alert-title">‚ö†Ô∏è Action Required</div>
                        <div class="cert-alert-text">
                            5-Year Load Testing due by ${nextLoadTestDue}. Schedule with a Florida-licensed elevator contractor to maintain compliance with FL Statute 399.
                        </div>
                    </div>
                ` + html;
            }
            
            document.getElementById('floridaCertification').innerHTML = html;
        }

        // Generate Financial Overview
        function generateFinancialOverview(age, capacity, yearInstalled) {
            const capacityNum = parseInt(capacity);
            
            // Calculate estimated replacement cost based on capacity and floors (estimated from travel distance)
            // Industry average: $100k-$300k for standard traction elevator
            const baseReplacementCost = 150000;
            const capacityCost = (capacityNum / 2500) * 50000; // Larger capacity costs more
            const estimatedReplacementCost = Math.round((baseReplacementCost + capacityCost) / 1000) * 1000;
            
            // Calculate expected lifespan remaining (typical is 25 years)
            const typicalLifespan = 25;
            const remainingYears = Math.max(0, typicalLifespan - age);
            
            // Annual maintenance cost estimate
            const annualMaintenanceCost = 5000 + (age * 200); // Increases with age
            
            let html = `
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-label">Estimated Replacement Cost</div>
                        <div class="info-value">$${estimatedReplacementCost.toLocaleString()}</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">Expected Lifespan Remaining</div>
                        <div class="info-value">${remainingYears} years</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">Est. Annual Maintenance</div>
                        <div class="info-value">$${annualMaintenanceCost.toLocaleString()}</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">Current Market Value Impact</div>
                        <div class="info-value">${age < 10 ? 'Positive' : age < 20 ? 'Neutral' : 'Negative'}</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(10, 22, 40, 0.03); border-radius: 6px; font-size: 13px; line-height: 1.6;">
                    <strong>Note:</strong> Estimates based on industry averages for ${capacityNum}-lb capacity traction elevators. 
                    Actual costs may vary based on building configuration, local labor rates, and specific equipment requirements.
                </div>
            `;
            
            document.getElementById('financialOverview').innerHTML = html;
        }

        // Generate Upcoming Deadlines
        function generateUpcomingDeadlines(age, yearInstalled) {
            const currentYear = new Date().getFullYear();
            const currentDate = new Date();
            
            // Calculate next inspection (typically annual)
            const nextInspectionDate = new Date(2027, 0, 2); // Jan 2, 2027
            const daysUntilInspection = Math.ceil((nextInspectionDate - currentDate) / (1000 * 60 * 60 * 24));
            
            // Calculate next 5-year test
            const yearsSinceLastLoadTest = (currentYear - parseInt(yearInstalled)) % 5;
            const nextLoadTestYear = currentYear - yearsSinceLastLoadTest + 5;
            const daysUntilLoadTest = Math.ceil((new Date(nextLoadTestYear, 11, 31) - currentDate) / (1000 * 60 * 60 * 24));
            
            // Service contract renewal (estimated)
            const contractRenewalDate = new Date(currentYear, 11, 31);
            const daysUntilContract = Math.ceil((contractRenewalDate - currentDate) / (1000 * 60 * 60 * 24));
            
            let html = `
                <div style="display: grid; gap: 15px;">
                    <div class="cert-card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <div style="font-weight: 600; font-size: 16px; color: var(--navy); margin-bottom: 5px;">Annual State Inspection</div>
                                <div style="font-size: 14px; color: var(--gray);">Due: January 2027</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 24px; font-weight: bold; color: ${daysUntilInspection < 90 ? '#856404' : '#155724'};">${daysUntilInspection}</div>
                                <div style="font-size: 12px; color: var(--gray);">days</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cert-card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <div style="font-weight: 600; font-size: 16px; color: var(--navy); margin-bottom: 5px;">5-Year Load Testing</div>
                                <div style="font-size: 14px; color: var(--gray);">Due: December ${nextLoadTestYear}</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 24px; font-weight: bold; color: ${daysUntilLoadTest < 365 ? '#856404' : '#155724'};">${Math.round(daysUntilLoadTest / 30)}</div>
                                <div style="font-size: 12px; color: var(--gray);">months</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cert-card" style="position: relative;">
                        <span class="simulated-badge" style="background: rgba(128, 128, 128, 0.9); color: white; padding: 5px 12px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; position: absolute; top: 10px; right: 10px; z-index: 1;">Estimated</span>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <div style="font-weight: 600; font-size: 16px; color: var(--navy); margin-bottom: 5px;">Service Contract Renewal</div>
                                <div style="font-size: 14px; color: var(--gray);">Estimated: December ${currentYear}</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 24px; font-weight: bold; color: ${daysUntilContract < 60 ? '#856404' : '#155724'};">${daysUntilContract}</div>
                                <div style="font-size: 12px; color: var(--gray);">days</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('upcomingDeadlines').innerHTML = html;
        }

        // Generate Modernization Recommendations
        function generateModernizationRecommendations(age, yearInstalled, manufacturer) {
            let recommendations = [];
            
            if (age >= 15) {
                recommendations.push({
                    priority: 'HIGH',
                    item: 'Control System Upgrade',
                    reason: 'Elevator is over 15 years old. Modern microprocessor controls improve reliability and reduce energy consumption by 30-40%.',
                    cost: '$25,000 - $50,000',
                    timeline: 'Within 12 months'
                });
            }
            
            if (age >= 20) {
                recommendations.push({
                    priority: 'HIGH',
                    item: 'Door Operator Replacement',
                    reason: 'Original door operators may be approaching end of life. New operators reduce breakdowns and improve passenger flow.',
                    cost: '$8,000 - $15,000',
                    timeline: 'Within 6 months'
                });
            }
            
            if (age >= 10) {
                recommendations.push({
                    priority: 'MEDIUM',
                    item: 'LED Lighting Upgrade',
                    reason: 'Upgrade to LED lighting reduces energy costs by 75% and improves cab aesthetics.',
                    cost: '$2,000 - $4,000',
                    timeline: 'Next 12-24 months'
                });
            }
            
            if (age >= 15) {
                recommendations.push({
                    priority: 'MEDIUM',
                    item: 'Destination Dispatch System',
                    reason: 'Modern dispatch system reduces wait times and improves traffic management for multi-elevator buildings.',
                    cost: '$50,000 - $100,000',
                    timeline: 'Next 2-3 years'
                });
            }
            
            // Always recommend monitoring
            recommendations.push({
                priority: 'LOW',
                item: 'IoT Monitoring System',
                reason: 'Real-time monitoring detects issues before failures occur, reducing downtime by up to 50%.',
                cost: '$3,000 - $8,000',
                timeline: 'Consider for next budget cycle'
            });
            
            // Add ADA compliance check
            if (yearInstalled < 2010) {
                recommendations.push({
                    priority: 'MEDIUM',
                    item: 'ADA Compliance Audit',
                    reason: 'Ensure elevator meets current ADA accessibility standards including proper signage, handrails, and communication devices.',
                    cost: '$1,500 - $5,000',
                    timeline: 'Within 12 months'
                });
            }
            
            let html = '';
            
            if (recommendations.length === 0) {
                html = `
                    <div style="padding: 30px; text-align: center; background: rgba(212, 175, 55, 0.05); border-radius: 8px;">
                        <div style="font-size: 48px; margin-bottom: 15px;">‚úì</div>
                        <div style="font-size: 18px; font-weight: 600; color: var(--navy); margin-bottom: 10px;">No Critical Upgrades Needed</div>
                        <div style="font-size: 14px; color: var(--gray);">This elevator is modern and well-maintained. Continue regular inspection and maintenance schedules.</div>
                    </div>
                `;
            } else {
                recommendations.forEach(rec => {
                    const priorityColor = rec.priority === 'HIGH' ? '#dc3545' : rec.priority === 'MEDIUM' ? '#ffc107' : '#28a745';
                    const priorityBg = rec.priority === 'HIGH' ? '#f8d7da' : rec.priority === 'MEDIUM' ? '#fff3cd' : '#d4edda';
                    
                    html += `
                        <div class="cert-card" style="margin-bottom: 20px;">
                            <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 15px;">
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 18px; color: var(--navy); margin-bottom: 5px;">${rec.item}</div>
                                    <span style="background: ${priorityBg}; color: ${priorityColor}; padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; text-transform: uppercase;">${rec.priority} PRIORITY</span>
                                </div>
                            </div>
                            <div style="font-size: 14px; line-height: 1.6; color: var(--navy); margin-bottom: 15px;">${rec.reason}</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding-top: 15px; border-top: 1px solid rgba(10, 22, 40, 0.1);">
                                <div>
                                    <div style="font-size: 11px; color: var(--gray); text-transform: uppercase; margin-bottom: 5px;">Estimated Cost</div>
                                    <div style="font-weight: 600; color: var(--navy);">${rec.cost}</div>
                                </div>
                                <div>
                                    <div style="font-size: 11px; color: var(--gray); text-transform: uppercase; margin-bottom: 5px;">Recommended Timeline</div>
                                    <div style="font-weight: 600; color: var(--navy);">${rec.timeline}</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += `
                    <div style="margin-top: 20px; padding: 15px; background: rgba(10, 22, 40, 0.03); border-radius: 6px; font-size: 13px; line-height: 1.6;">
                        <strong>Note:</strong> These recommendations are based on elevator age and industry best practices. 
                        Consult with a licensed elevator contractor for detailed assessments and accurate cost estimates.
                    </div>
                `;
            }
            
            document.getElementById('modernizationRecs').innerHTML = html;
        }

        // Initialize
        updateProgress();

        // Add enter key support
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && currentScreen < 6) {
                nextScreen(currentScreen + 1);
            }
        });
    </script>
</body>
</html>
