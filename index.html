<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElevatorFax - Elevator History Reports</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #0a1628;
            --navy-light: #1a2942;
            --gold: #d4af37;
            --gold-light: #f4d77f;
            --cream: #faf7f2;
            --gray: #8892a6;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: var(--navy);
            color: var(--cream);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(45deg, transparent 48%, rgba(212, 175, 55, 0.03) 49%, rgba(212, 175, 55, 0.03) 51%, transparent 52%),
                linear-gradient(-45deg, transparent 48%, rgba(212, 175, 55, 0.03) 49%, rgba(212, 175, 55, 0.03) 51%, transparent 52%);
            background-size: 60px 60px;
            opacity: 0.5;
            z-index: 0;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 700px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Header/Logo */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 0.8s ease-out;
        }

        .logo {
            font-family: 'DM Serif Display', serif;
            font-size: 48px;
            color: var(--gold);
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .tagline {
            font-size: 14px;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 300;
        }

        .demo-btn {
            margin-top: 20px;
            padding: 12px 30px;
            background: rgba(212, 175, 55, 0.15);
            border: 1px solid var(--gold);
            color: var(--gold);
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .demo-btn:hover {
            background: rgba(212, 175, 55, 0.25);
            transform: translateY(-2px);
        }

        /* Progress bar */
        .progress-container {
            margin-bottom: 50px;
            animation: fadeIn 1s ease-out 0.2s both;
        }

        .progress-bar {
            height: 3px;
            background: var(--navy-light);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), var(--gold-light));
            width: 0%;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        .progress-text {
            margin-top: 15px;
            text-align: center;
            font-size: 13px;
            color: var(--gray);
            font-weight: 300;
        }

        /* Screen container */
        .screen {
            display: none;
            animation: fadeInUp 0.6s ease-out;
        }

        .screen.active {
            display: block;
        }

        .screen-title {
            font-family: 'DM Serif Display', serif;
            font-size: 32px;
            color: var(--gold);
            margin-bottom: 15px;
            font-weight: 400;
        }

        .screen-subtitle {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 40px;
            line-height: 1.6;
            font-weight: 300;
        }

        /* Form elements */
        .form-group {
            margin-bottom: 35px;
        }

        label {
            display: block;
            margin-bottom: 12px;
            font-size: 13px;
            color: var(--gold-light);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 500;
        }

        input, select {
            width: 100%;
            padding: 18px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.2);
            border-radius: 8px;
            color: var(--cream);
            font-size: 16px;
            font-family: 'IBM Plex Sans', sans-serif;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--gold);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        input::placeholder {
            color: var(--gray);
            opacity: 0.6;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23d4af37' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 20px center;
            padding-right: 45px;
        }

        select option {
            background: var(--navy);
            color: var(--cream);
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 50px;
        }

        .btn {
            flex: 1;
            padding: 18px 35px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: var(--navy);
            box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--gold);
            border: 1px solid var(--gold);
        }

        .btn-secondary:hover {
            background: rgba(212, 175, 55, 0.1);
        }

        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Report styles */
        .report-container {
            background: var(--cream);
            color: var(--navy);
            border-radius: 12px;
            padding: 50px;
            margin-top: 30px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
        }

        .report-header {
            text-align: center;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--gold);
            margin-bottom: 40px;
        }

        .report-logo {
            font-family: 'DM Serif Display', serif;
            font-size: 36px;
            color: var(--navy);
            margin-bottom: 10px;
        }

        .report-title {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--gray);
            margin-bottom: 15px;
        }

        .report-id {
            font-size: 12px;
            color: var(--gray);
            font-weight: 300;
        }

        .score-card {
            background: linear-gradient(135deg, var(--navy), var(--navy-light));
            color: var(--cream);
            padding: 40px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 15px 40px rgba(10, 22, 40, 0.3);
        }

        .score-number {
            font-family: 'DM Serif Display', serif;
            font-size: 72px;
            color: var(--gold);
            margin-bottom: 10px;
            line-height: 1;
        }

        .score-label {
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--gray);
            font-weight: 500;
        }

        .score-description {
            margin-top: 15px;
            font-size: 13px;
            color: var(--gray);
            font-weight: 300;
        }

        .report-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-family: 'DM Serif Display', serif;
            font-size: 24px;
            color: var(--navy);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(10, 22, 40, 0.1);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .info-card {
            background: rgba(10, 22, 40, 0.03);
            padding: 20px;
            border-radius: 8px;
            border-left: 3px solid var(--gold);
        }

        .info-label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--gray);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .info-value {
            font-size: 18px;
            font-weight: 600;
            color: var(--navy);
        }

        .badge-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .history-timeline {
            position: relative;
            padding-left: 30px;
        }

        .history-timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gold);
        }

        .history-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 20px;
        }

        .history-item::before {
            content: '';
            position: absolute;
            left: -36px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--gold);
            border: 3px solid var(--cream);
        }

        .history-date {
            font-weight: 600;
            color: var(--navy);
            margin-bottom: 5px;
            font-size: 14px;
        }

        .history-event {
            color: var(--gray);
            font-size: 14px;
            line-height: 1.6;
        }

        .inspection-grid {
            display: grid;
            gap: 12px;
        }

        .inspection-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(10, 22, 40, 0.03);
            border-radius: 6px;
        }

        .inspection-name {
            font-weight: 500;
            color: var(--navy);
            font-size: 14px;
        }

        .footer-note {
            margin-top: 50px;
            padding: 30px;
            background: rgba(10, 22, 40, 0.03);
            border-radius: 8px;
            font-size: 12px;
            color: var(--gray);
            line-height: 1.8;
            text-align: center;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 40px;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Loading spinner */
        .loading-screen {
            display: none;
            text-align: center;
            padding: 60px 0;
        }

        .loading-screen.active {
            display: block;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(212, 175, 55, 0.2);
            border-top-color: var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .loading-subtext {
            font-size: 13px;
            color: var(--gray);
            font-weight: 300;
        }

        @media (max-width: 768px) {
            .container {
                padding: 30px 15px;
            }

            .logo {
                font-size: 36px;
            }

            .screen-title {
                font-size: 26px;
            }

            .report-container {
                padding: 30px 20px;
            }

            .score-number {
                font-size: 56px;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }
        }

        @media print {
            body {
                background: white;
            }

            body::before {
                display: none;
            }

            .header, .progress-container, .screen, .loading-screen, .action-buttons {
                display: none !important;
            }

            .report-container {
                box-shadow: none;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">ElevatorFax</div>
            <div class="tagline">Verified Elevator History Reports</div>
            <button class="demo-btn" onclick="loadDemo()">Try Demo</button>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">Step 1 of 6</div>
        </div>

        <!-- Screen 1: Elevator ID -->
        <div class="screen active" id="screen1">
            <div class="screen-title">Let's start with the basics</div>
            <div class="screen-subtitle">Every elevator has a unique identification number, typically found on the certificate inside the cab.</div>
            
            <div class="form-group">
                <label>Elevator ID Number</label>
                <input type="text" id="elevatorId" placeholder="e.g., ELV-2024-001234" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="nextScreen(2)">Continue</button>
            </div>
        </div>

        <!-- Screen 2: Building Name -->
        <div class="screen" id="screen2">
            <div class="screen-title">Where is this elevator located?</div>
            <div class="screen-subtitle">Tell us about the building this elevator serves.</div>
            
            <div class="form-group">
                <label>Building Name</label>
                <input type="text" id="buildingName" placeholder="e.g., One World Trade Center" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(1)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(3)">Continue</button>
            </div>
        </div>

        <!-- Screen 3: Address -->
        <div class="screen" id="screen3">
            <div class="screen-title">Building address</div>
            <div class="screen-subtitle">The complete street address helps us locate inspection records.</div>
            
            <div class="form-group">
                <label>Street Address</label>
                <input type="text" id="address" placeholder="e.g., 285 Fulton St, New York, NY 10007" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(2)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(4)">Continue</button>
            </div>
        </div>

        <!-- Screen 4: Manufacturer -->
        <div class="screen" id="screen4">
            <div class="screen-title">Who manufactured this elevator?</div>
            <div class="screen-subtitle">The manufacturer's name is usually displayed on the control panel or door frame.</div>
            
            <div class="form-group">
                <label>Manufacturer</label>
                <select id="manufacturer">
                    <option value="">Select manufacturer...</option>
                    <option value="Otis">Otis Elevator Company</option>
                    <option value="Schindler">Schindler Group</option>
                    <option value="KONE">KONE Corporation</option>
                    <option value="ThyssenKrupp">ThyssenKrupp Elevator</option>
                    <option value="Mitsubishi">Mitsubishi Electric</option>
                    <option value="Fujitec">Fujitec Co., Ltd.</option>
                    <option value="Hitachi">Hitachi Building Systems</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(3)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(5)">Continue</button>
            </div>
        </div>

        <!-- Screen 5: Year & Capacity -->
        <div class="screen" id="screen5">
            <div class="screen-title">Installation details</div>
            <div class="screen-subtitle">When was it installed, and what's its rated capacity?</div>
            
            <div class="form-group">
                <label>Year Installed</label>
                <input type="number" id="yearInstalled" placeholder="e.g., 2015" min="1900" max="2024" autocomplete="off">
            </div>

            <div class="form-group">
                <label>Weight Capacity (pounds)</label>
                <input type="number" id="capacity" placeholder="e.g., 3500" min="500" step="100" autocomplete="off">
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(4)">Back</button>
                <button class="btn btn-primary" onclick="nextScreen(6)">Continue</button>
            </div>
        </div>

        <!-- Screen 6: Review -->
        <div class="screen" id="screen6">
            <div class="screen-title">Review your information</div>
            <div class="screen-subtitle">Please verify all details before generating your report.</div>
            
            <div class="info-grid">
                <div class="info-card">
                    <div class="info-label">Elevator ID</div>
                    <div class="info-value" id="reviewId">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Building</div>
                    <div class="info-value" id="reviewBuilding">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Address</div>
                    <div class="info-value" id="reviewAddress">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Manufacturer</div>
                    <div class="info-value" id="reviewManufacturer">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Year Installed</div>
                    <div class="info-value" id="reviewYear">-</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Capacity</div>
                    <div class="info-value" id="reviewCapacity">-</div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevScreen(5)">Back</button>
                <button class="btn btn-primary" onclick="generateReport()">Generate Report</button>
            </div>
        </div>

        <!-- Loading Screen -->
        <div class="loading-screen" id="loadingScreen">
            <div class="spinner"></div>
            <div class="loading-text">Generating your ElevatorFax report...</div>
            <div class="loading-subtext">Analyzing inspection records and maintenance history</div>
        </div>

        <!-- Report Screen -->
        <div class="screen" id="reportScreen">
            <div class="report-container">
                <div class="report-header">
                    <div class="report-logo">üè¢ ElevatorFax</div>
                    <div class="report-title">Official Vehicle History Report</div>
                    <div class="report-id">Report ID: <span id="reportId"></span></div>
                    <div class="report-id">Generated: <span id="reportDate"></span></div>
                </div>

                <div class="score-card">
                    <div class="score-number" id="safetyScore">-</div>
                    <div class="score-label">ElevatorFax Safety Score</div>
                    <div class="score-description">Based on maintenance history, inspection records, and equipment condition</div>
                </div>

                <div class="report-section">
                    <div class="section-title">Elevator Overview</div>
                    <div class="info-grid">
                        <div class="info-card">
                            <div class="info-label">Elevator ID</div>
                            <div class="info-value" id="finalId">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Building</div>
                            <div class="info-value" id="finalBuilding">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Manufacturer</div>
                            <div class="info-value" id="finalManufacturer">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Year Installed</div>
                            <div class="info-value" id="finalYear">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Capacity</div>
                            <div class="info-value" id="finalCapacity">-</div>
                        </div>
                        <div class="info-card">
                            <div class="info-label">Age</div>
                            <div class="info-value" id="finalAge">-</div>
                        </div>
                    </div>
                    <div class="info-card" style="margin-top: 15px;">
                        <div class="info-label">Address</div>
                        <div class="info-value" id="finalAddress">-</div>
                    </div>
                </div>

                <div class="report-section">
                    <div class="section-title">Safety Highlights</div>
                    <div class="badge-container" id="safetyBadges"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Latest Inspection Results</div>
                    <div class="inspection-grid" id="inspectionGrid"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Maintenance & Service History</div>
                    <div class="history-timeline" id="maintenanceTimeline"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Major Events & Upgrades</div>
                    <div class="history-timeline" id="majorEvents"></div>
                </div>

                <div class="report-section">
                    <div class="section-title">Component Status</div>
                    <div class="info-grid" id="componentGrid"></div>
                </div>

                <div class="footer-note">
                    This ElevatorFax report is generated based on available records and inspection data. 
                    ElevatorFax compiles information from maintenance logs, safety inspections, and regulatory filings. 
                    This report should be used as part of a comprehensive evaluation process.
                    <br><br>
                    ¬© 2024 ElevatorFax. All rights reserved.
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="window.print()">Print Report</button>
                    <button class="btn btn-primary" onclick="location.reload()">Generate New Report</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 1;
        const totalScreens = 6;
        const formData = {};

        // Load demo data
        function loadDemo() {
            // Fill in all the demo data
            document.getElementById('elevatorId').value = 'ELV-2019-847362';
            document.getElementById('buildingName').value = 'Salesforce Tower';
            document.getElementById('address').value = '415 Mission Street, San Francisco, CA 94105';
            document.getElementById('manufacturer').value = 'Otis';
            document.getElementById('yearInstalled').value = '2019';
            document.getElementById('capacity').value = '4500';

            // Animate through all screens quickly
            setTimeout(() => nextScreen(2), 300);
            setTimeout(() => nextScreen(3), 600);
            setTimeout(() => nextScreen(4), 900);
            setTimeout(() => nextScreen(5), 1200);
            setTimeout(() => nextScreen(6), 1500);
        }

        // Update progress bar
        function updateProgress() {
            const progress = (currentScreen / totalScreens) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Step ${currentScreen} of ${totalScreens}`;
        }

        // Validate current screen
        function validateScreen(screenNum) {
            let input;
            switch(screenNum) {
                case 1:
                    input = document.getElementById('elevatorId');
                    break;
                case 2:
                    input = document.getElementById('buildingName');
                    break;
                case 3:
                    input = document.getElementById('address');
                    break;
                case 4:
                    input = document.getElementById('manufacturer');
                    break;
                case 5:
                    const year = document.getElementById('yearInstalled');
                    const capacity = document.getElementById('capacity');
                    if (!year.value || !capacity.value) {
                        alert('Please fill in both fields');
                        return false;
                    }
                    return true;
            }
            
            if (input && !input.value.trim()) {
                alert('Please fill in this field before continuing');
                input.focus();
                return false;
            }
            return true;
        }

        // Navigate to next screen
        function nextScreen(screenNum) {
            if (!validateScreen(currentScreen)) {
                return;
            }

            // Hide current screen
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            
            // Update review if going to screen 6
            if (screenNum === 6) {
                updateReview();
            }
            
            // Show next screen
            currentScreen = screenNum;
            document.getElementById(`screen${screenNum}`).classList.add('active');
            updateProgress();
            
            // Scroll to top smoothly
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Navigate to previous screen
        function prevScreen(screenNum) {
            document.getElementById(`screen${currentScreen}`).classList.remove('active');
            currentScreen = screenNum;
            document.getElementById(`screen${screenNum}`).classList.add('active');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Update review screen
        function updateReview() {
            document.getElementById('reviewId').textContent = document.getElementById('elevatorId').value;
            document.getElementById('reviewBuilding').textContent = document.getElementById('buildingName').value;
            document.getElementById('reviewAddress').textContent = document.getElementById('address').value;
            document.getElementById('reviewManufacturer').textContent = document.getElementById('manufacturer').value;
            document.getElementById('reviewYear').textContent = document.getElementById('yearInstalled').value;
            document.getElementById('reviewCapacity').textContent = document.getElementById('capacity').value + ' lbs';
        }

        // Generate report
        function generateReport() {
            // Collect all data
            formData.elevatorId = document.getElementById('elevatorId').value;
            formData.buildingName = document.getElementById('buildingName').value;
            formData.address = document.getElementById('address').value;
            formData.manufacturer = document.getElementById('manufacturer').value;
            formData.yearInstalled = parseInt(document.getElementById('yearInstalled').value);
            formData.capacity = document.getElementById('capacity').value;

            // Hide review screen
            document.getElementById('screen6').classList.remove('active');
            
            // Show loading screen
            document.getElementById('loadingScreen').classList.add('active');
            document.getElementById('progressFill').style.width = '100%';
            document.getElementById('progressText').textContent = 'Generating report...';

            // Simulate loading time
            setTimeout(() => {
                populateReport();
                document.getElementById('loadingScreen').classList.remove('active');
                document.getElementById('reportScreen').classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 2500);
        }

        // Populate report with data
        function populateReport() {
            const currentYear = new Date().getFullYear();
            const age = currentYear - formData.yearInstalled;
            
            // Generate report metadata
            const reportId = 'EFX-' + Date.now();
            const reportDate = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            // Calculate safety score
            let score = 100;
            score -= Math.min(age * 1.5, 30);
            score -= Math.floor(Math.random() * 10);
            score = Math.max(65, Math.min(100, Math.round(score)));

            // Set basic info
            document.getElementById('reportId').textContent = reportId;
            document.getElementById('reportDate').textContent = reportDate;
            document.getElementById('safetyScore').textContent = score;
            
            document.getElementById('finalId').textContent = formData.elevatorId;
            document.getElementById('finalBuilding').textContent = formData.buildingName;
            document.getElementById('finalManufacturer').textContent = formData.manufacturer;
            document.getElementById('finalYear').textContent = formData.yearInstalled;
            document.getElementById('finalCapacity').textContent = formData.capacity + ' lbs';
            document.getElementById('finalAge').textContent = age + ' years';
            document.getElementById('finalAddress').textContent = formData.address;

            // Generate safety badges
            let badges = '';
            if (score >= 85) {
                badges += '<span class="badge badge-success">‚úì Excellent Safety Record</span>';
            } else if (score >= 75) {
                badges += '<span class="badge badge-success">‚úì Good Safety Record</span>';
            } else {
                badges += '<span class="badge badge-warning">‚ö† Needs Attention</span>';
            }
            badges += '<span class="badge badge-success">‚úì Current Inspection Certificate</span>';
            badges += '<span class="badge badge-success">‚úì Regular Maintenance</span>';
            
            if (age < 10) {
                badges += '<span class="badge badge-success">‚úì Modern Equipment</span>';
            } else if (age > 25) {
                badges += '<span class="badge badge-warning">‚ö† Aging Equipment</span>';
            }
            badges += '<span class="badge badge-success">‚úì Code Compliant</span>';
            document.getElementById('safetyBadges').innerHTML = badges;

            // Generate inspection results
            const inspections = [
                'Emergency Communication System',
                'Door Safety Sensors',
                'Emergency Brake System',
                'Cable Condition',
                'Governor System',
                'Lighting & Ventilation',
                'Fire Service Operation',
                'Load Testing'
            ];

            let inspectionHTML = '';
            inspections.forEach(item => {
                inspectionHTML += `
                    <div class="inspection-row">
                        <span class="inspection-name">${item}</span>
                        <span class="badge badge-success">PASS</span>
                    </div>
                `;
            });
            document.getElementById('inspectionGrid').innerHTML = inspectionHTML;

            // Generate maintenance history
            const maintenanceRecords = [
                { date: 'December 15, 2024', event: 'Quarterly safety inspection completed. All systems operational.' },
                { date: 'November 3, 2024', event: 'Routine maintenance performed. Door sensors calibrated.' },
                { date: 'September 22, 2024', event: 'Annual state inspection passed with no violations.' },
                { date: 'August 10, 2024', event: 'Emergency phone system upgraded to meet new requirements.' },
                { date: 'June 5, 2024', event: 'Cable inspection and lubrication service completed.' }
            ];

            let maintenanceHTML = '';
            maintenanceRecords.forEach(record => {
                maintenanceHTML += `
                    <div class="history-item">
                        <div class="history-date">${record.date}</div>
                        <div class="history-event">${record.event}</div>
                    </div>
                `;
            });
            document.getElementById('maintenanceTimeline').innerHTML = maintenanceHTML;

            // Generate major events
            let eventsHTML = `
                <div class="history-item">
                    <div class="history-date">${formData.yearInstalled}</div>
                    <div class="history-event">Elevator installed and commissioned. Initial inspection passed.</div>
                </div>
            `;

            if (age > 15) {
                const modernYear = currentYear - Math.floor(Math.random() * 5) - 3;
                eventsHTML += `
                    <div class="history-item">
                        <div class="history-date">${modernYear}</div>
                        <div class="history-event">Major modernization: Control system upgraded to microprocessor-based controller. Door operators replaced.</div>
                    </div>
                `;
            }

            eventsHTML += `
                <div class="history-item">
                    <div class="history-date">No Records Found</div>
                    <div class="history-event" style="color: #155724; font-weight: 600;">‚úì No accident or injury reports on file</div>
                </div>
            `;
            document.getElementById('majorEvents').innerHTML = eventsHTML;

            // Generate component status
            const components = [
                { name: 'Traction Machine/Motor', condition: age < 15 ? 'Excellent' : 'Good' },
                { name: 'Control System', condition: age < 10 ? 'Excellent' : 'Good' },
                { name: 'Door System', condition: 'Good' },
                { name: 'Safety Brake', condition: 'Excellent' },
                { name: 'Cables & Ropes', condition: 'Good' },
                { name: 'Guide Rails', condition: 'Excellent' },
                { name: 'Car Interior', condition: age < 5 ? 'Excellent' : 'Good' },
                { name: 'Emergency Systems', condition: 'Excellent' }
            ];

            let componentHTML = '';
            components.forEach(comp => {
                componentHTML += `
                    <div class="info-card">
                        <div class="info-label">${comp.name}</div>
                        <div class="info-value">${comp.condition}</div>
                    </div>
                `;
            });
            document.getElementById('componentGrid').innerHTML = componentHTML;
        }

        // Initialize
        updateProgress();

        // Add enter key support
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && currentScreen < 6) {
                nextScreen(currentScreen + 1);
            }
        });
    </script>
</body>
</html>
